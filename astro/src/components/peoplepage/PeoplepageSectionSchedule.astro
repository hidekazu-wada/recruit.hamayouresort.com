---
import { Image } from 'astro:assets';
import LowerPageH2 from '@components/common/LowerPageH2.astro';
import slide1 from '@assets/images/people/peoplepage-slider-01.png';
import slide2 from '@assets/images/people/peoplepage-slider-02.png';
import slide3 from '@assets/images/people/peoplepage-slider-03.png';
import slide4 from '@assets/images/people/peoplepage-slider-04.png';
import slide5 from '@assets/images/people/peoplepage-slider-05.png';

// スライドデータを一元管理
const slides = [
  {
    image: slide1,
    title: 'ホテルフロントの一日',
    schedules: [
      {
        time: '7:00',
        title: '出勤・チェックアウト対応・受入準備',
        content:
          'ナイトフロントから引き継ぎと予約確認。',
      },
      {
        time: '11:00',
        title: '休憩',
        content:
          '帰宅して休憩や温泉でリフレッシュ。',
      },
      {
        time: '15:00',
        title: '団体受入れ対応',
        content:
          '団体様をスムーズにお出迎え。',
      },
      {
        time: '16:00',
        title: 'デスクワーク',
        content:
          '予約管理と売上集計の事務作業。',
      },
      {
        time: '18:00',
        title: 'ゲスト対応',
        content:
          'お客様のリクエストに丁寧に対応。',
      },
      {
        time: '21:00',
        title: 'ナイトフロントに引継ぎ・退勤',
        content:
          'ナイトフロントへの引き継ぎ後に退勤。',
      },
    ],
  },
  {
    image: slide2,
    title: 'レストランフロントの一日',
    schedules: [
      {
        time: '6:00',
        title: '出勤・朝食対応',
        content:
          'テーブルセットと朝食準備開始。',
      },
      {
        time: '9:00',
        title: '朝食片付け・受入準備',
        content:
          'テーブル清掃とランチ準備作業。',
      },
      {
        time: '11:00',
        title: '休憩',
        content:
          'スタッフと情報交換しながら休憩。',
      },
      {
        time: '15:00',
        title: '受入準備・デスクワーク',
        content:
          '夕食予約とアレルギー対応確認。',
      },
      {
        time: '17:00',
        title: '夕食準備・対応',
        content:
          'ビュッフェ準備やアレルギー対応check。',
      },
      {
        time: '20:00',
        title: '夕食片付け',
        content:
          '片付けと明日の準備で締めくくり。',
      },
      {
        time: '21:00',
        title: '退勤',
        content:
          'お客様の笑顔に癒されて退勤。',
      },
    ],
  },
  {
    image: slide3,
    title: '調理部門の一日',
    schedules: [
      {
        time: '5:00',
        title: '出勤・朝食準備・対応',
        content:
          '食材確認とメニューチェックから開始。',
      },
      {
        time: '9:00',
        title: '夕食の仕込み',
        content:
          '夕食の仕込みや新メニュー考案。',
      },
      {
        time: '10:00',
        title: '休憩',
        content:
          '体力回復の時間。',
      },
      {
        time: '16:00',
        title: '夕食準備・対応',
        content:
          'チーム一丸で最高の夕食を調理。',
      },
      {
        time: '20:30',
        title: '退勤',
        content:
          '厨房清掃と翌日準備で退勤。',
      },
    ],
  },
  {
    image: slide1,
    title: '営業部門（外勤）の一日',
    schedules: [
      {
        time: '8:00',
        title: '出勤・移動 or 営業先へ直行',
        content:
          '自宅から営業先へ直行し商談準備。',
      },
      {
        time: '10:00',
        title: '営業周り',
        content:
          '学校や企業への提案営業活動。',
      },
      {
        time: '17:00',
        title: '営業先より帰社（直帰）',
        content:
          '成果を振り返りながら帰路へ。',
      },
    ],
  },
  {
    image: slide2,
    title: '営業部門（内勤）の一日',
    schedules: [
      {
        time: '9:00',
        title: '出勤・デスクワーク・取引先との打ち合わせ',
        content:
          'メールチェックと問合せ返信から開始。',
      },
      {
        time: '11:00',
        title: '団体受入れ',
        content:
          '団体様を営業担当として直接お出迎え。',
      },
      {
        time: '12:00',
        title: '食事',
        content:
          'スタッフと情報交換しながら昼食。',
      },
      {
        time: '13:00',
        title: 'デスクワーク・取引先との打ち合わせ',
        content:
          '企画書作成と新規開拓リサーチ。',
      },
      {
        time: '18:00',
        title: '退勤',
        content:
          '明日の準備を整えて退勤。',
      },
    ],
  },
];
---

<div class="schedule-wrapper">
  <LowerPageH2
    title="1日のスケジュール紹介"
    variant="default"
    position="center"
  />
  <div class="swiper-container">
    <div class="swiper">
      <div class="swiper-wrapper">
        {
          slides.map((slide) => (
            <div class="swiper-slide">
              <div class="image-wrapper">
                <Image
                  src={slide.image}
                  format="webp"
                  alt={slide.title}
                  width={300}
                  height={300}
                />
              </div>
              <div class="timeline">
                {slide.schedules.map((schedule) => (
                  <article class="timeline__item">
                    <header class="timeline__header">
                      <time class="timeline__time">【{schedule.time}】</time>
                      <h3 class="timeline__title">{schedule.title}</h3>
                    </header>
                    <div class="timeline__content">
                      <p>{schedule.content}</p>
                    </div>
                  </article>
                ))}
              </div>
            </div>
          ))
        }
      </div>
    </div>
    <div class="swiper-pagination"></div>
  </div>
</div>

<script>
  // Swiperのインポートと初期化
  import Swiper from 'swiper';
  import { Navigation, Pagination, Autoplay } from 'swiper/modules';

  // CSSのインポート
  import 'swiper/css';
  import 'swiper/css/navigation';
  import 'swiper/css/pagination';

  // DOMがロードされた後にSwiperを初期化
  document.addEventListener('DOMContentLoaded', () => {
    const swiper = new Swiper('.swiper', {
      // モジュールの設定
      modules: [Navigation, Pagination, Autoplay],

      // スライドの設定
      slidesPerView: 1,
      spaceBetween: 30,
      centeredSlides: true,
      loop: true,

      // 自動再生の設定
      autoplay: {
        delay: 5000,
        disableOnInteraction: false,
      },

      // ページネーションの設定
      pagination: {
        el: '.swiper-pagination',
        clickable: true,
      },
    });
  });
</script>

<style lang="scss">
  @import '@styles/functions.scss';
  @import '@styles/mixins.scss';
  .schedule-wrapper {
    background-color: #d8edf7;
    padding: spx(60) 0;
    @include tablet-up {
      padding: spx(60) * 0.75 0;
    }
    @include desktop-up {
      padding: ppx(100) 0;
    }
  }
  .swiper-container {
    width: 100%;
    padding: 20px 0;
    margin-top: spx(28);
    @include tablet-up {
      margin-top: spx(28) * 0.75;
    }
    @include desktop-up {
      margin-top: ppx(40);
    }
    .swiper {
      width: 100%;
      padding: 0 spx(20);
      @include tablet-up {
        padding: 0 spx(80) * 0.75;
      }
      @include desktop-up {
        padding: 0 ppx(100);
      }
      .swiper-wrapper {
        .swiper-slide {
          display: flex;
          flex-flow: column;
          gap: spx(20);
          background-color: #fff;
          padding: spx(20);
          @include tablet-up {
            gap: spx(20) * 0.75;
            padding: spx(20) * 0.75;
          }
          @include desktop-up {
            display: grid;
            grid-template-columns: max-content auto;
            gap: ppx(80);
            padding: ppx(20);
          }

          .image-wrapper {
            width: 100%;
            height: auto;
            margin-inline: auto;

            @include desktop-up {
              width: ppx(360);
              height: ppx(360);
              margin-inline: unset;
            }

            img {
              display: block;
              width: 100%;
              height: 100%;
              object-fit: cover;
            }
          }
          .timeline {
            font-size: spx(14);
            font-weight: 500;
            line-height: 140%;
            display: flex;
            flex-flow: column;
            gap: spx(12);

            @include tablet-up {
              font-size: spx(14) * 0.75;
              gap: spx(12) * 0.75;
            }

            @include desktop-up {
              font-size: ppx(18);
              gap: ppx(12);
            }
            .timeline__item {
              .timeline__header {
                display: flex;
                font-weight: 700;
                .timeline__time {
                }
                .timeline__title {
                }
              }
              .timeline__content {
                p {
                }
              }
            }
          }
        }
      }
    }
  }
  :global(.swiper-pagination) {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: spx(23);
    position: static !important;
    margin-top: spx(28);

    @include tablet-up {
      gap: spx(23) * 0.75;
      margin-top: spx(28) * 0.75;
    }
    @include desktop-up {
      gap: ppx(23);
      margin-top: ppx(40);
    }
    :global(.swiper-pagination-bullet) {
      width: spx(16);
      height: spx(16);
      background-color: #d8edf7;
      border: 2px solid #026995;
      border-radius: 50%;
      opacity: 1;
      @include tablet-up {
        width: spx(16) * 0.75;
        height: spx(16) * 0.75;
      }
      @include desktop-up {
        width: ppx(20);
        height: ppx(20);
      }
      &:global(.swiper-pagination-bullet-active) {
        background-color: #026995;
      }
    }
  }
</style>

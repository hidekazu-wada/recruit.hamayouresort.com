---
import { Image } from 'astro:assets';
import LowerPageH2 from '@components/common/LowerPageH2.astro';
import slide1 from '@assets/images/people/peoplepage-slider-01.png';
import slide2 from '@assets/images/people/peoplepage-slider-02.png';
import slide3 from '@assets/images/people/peoplepage-slider-03.png';

// スライドデータを一元管理
const slides = [
  {
    image: slide1,
    title: 'ホテルフロントの一日',
    schedules: [
      {
        time: '7:00',
        title: '出勤',
        content:
          '朝の静かなロビーで一日がスタート。夜勤スタッフから引き継ぎを受け、今日の予約状況を確認。',
      },
      {
        time: '7:00-11:00',
        title: 'チェックアウト対応・受入準備',
        content:
          '笑顔でお見送り。「また来ます」の一言が何よりの励み。空いた部屋の確認とシステム更新も同時進行。',
      },
      {
        time: '11:00-15:00',
        title: '休憩',
        content:
          '長めの休憩でリフレッシュ。社員寮に戻って仮眠を取ったり、近くの温泉でゆっくり過ごしたり。',
      },
      {
        time: '15:00-16:00',
        title: '団体受入れ対応',
        content:
          '修学旅行や企業研修の団体様をお出迎え。スムーズなチェックインで第一印象を大切に。',
      },
      {
        time: '16:00-17:00',
        title: 'デスクワーク',
        content:
          '予約管理や売上集計などの事務作業。明日の準備も忘れずに。',
      },
      {
        time: '18:00-21:00',
        title: 'ゲスト対応',
        content:
          '夕食後のお客様からの様々なリクエストに対応。観光案内や館内施設の説明で充実した滞在をサポート。',
      },
      {
        time: '21:00',
        title: 'ナイトフロントに引継ぎ・退勤',
        content:
          '今日の出来事や注意事項を夜勤スタッフに伝達。お客様の笑顔を思い出しながら帰路へ。',
      },
    ],
  },
  {
    image: slide2,
    title: 'レストランフロントの一日',
    schedules: [
      {
        time: '6:00',
        title: '出勤',
        content:
          '朝靄の中、レストランの準備開始。テーブルセッティングと朝食バイキングの最終チェック。',
      },
      {
        time: '6:00-9:00',
        title: '朝食対応',
        content:
          '「おはようございます」の挨拶とともに、お客様を席へご案内。料理の補充やドリンクサービスも担当。',
      },
      {
        time: '9:00-11:00',
        title: '朝食片付け・受入準備',
        content:
          'テーブルリセットと清掃。ランチ営業がある日は仕込みの手伝いも。チームワークが大切な時間。',
      },
      {
        time: '11:00-15:00',
        title: '休憩',
        content:
          'しっかり休んで午後に備える。スタッフ同士の情報交換も大切なコミュニケーション。',
      },
      {
        time: '15:00-16:00',
        title: '受入準備・デスクワーク',
        content:
          '夕食の予約確認とテーブルプランの作成。アレルギー対応など特別な要望も細かくチェック。',
      },
      {
        time: '17:00-20:00',
        title: '夕食準備・対応',
        content:
          '地元食材を使った自慢のディナーをサービス。お客様との会話も料理の美味しさを引き立てる大切な要素。',
      },
      {
        time: '20:00-21:00',
        title: '夕食片付け',
        content:
          '明日の準備をしながら片付け。今日の反省点と改善案をスタッフで共有。',
      },
      {
        time: '21:00',
        title: '退勤',
        content:
          'お客様の「ごちそうさま」と笑顔が今日の疲れを癒してくれる。明日もまた頑張ろう。',
      },
    ],
  },
  {
    image: slide3,
    title: '調理部門の一日',
    schedules: [
      {
        time: '5:00',
        title: '出勤',
        content:
          '厨房に一番乗り。新鮮な食材の確認と、今日のメニューの最終チェックから始まる。',
      },
      {
        time: '5:00-9:00',
        title: '朝食準備・対応',
        content:
          '和洋中のバラエティ豊かな朝食を準備。ライブキッチンでお客様の前で卵料理を調理することも。',
      },
      {
        time: '9:00-10:00',
        title: '夕食の仕込み',
        content:
          '夕食用の食材の下ごしらえ。季節の食材を活かしたメニュー開発のアイデアも練る。',
      },
      {
        time: '10:00-16:00',
        title: '休憩',
        content:
          '長時間の休憩でしっかり体力回復。料理の勉強や新メニューの研究に充てることも。',
      },
      {
        time: '16:00-20:00',
        title: '夕食準備・対応',
        content:
          'チーム一丸となって夕食の調理。お客様に最高の一皿を届けるため、集中力を高める時間。',
      },
      {
        time: '20:30',
        title: '退勤',
        content:
          '厨房の清掃と明日の準備を終えて退勤。お客様の「美味しかった」の声が明日への活力に。',
      },
    ],
  },
  {
    image: slide1,
    title: '営業部門（外勤）の一日',
    schedules: [
      {
        time: '8:00',
        title: '出勤（営業先へ直行）',
        content:
          '自宅から直接営業先へ。移動中に今日の商談内容を最終確認。',
      },
      {
        time: '8:00-10:00',
        title: '営業先に移動（首都圏）',
        content:
          '電車での移動時間も有効活用。メールチェックや資料の見直しで準備万端に。',
      },
      {
        time: '10:00-17:00',
        title: '営業周り',
        content:
          '学校や企業を訪問し、研修プランや修学旅行の提案。お客様のニーズを引き出す対話を大切に。',
      },
      {
        time: '17:00',
        title: '営業先より帰社（直帰）',
        content:
          '今日の成果を振り返りながら帰路へ。明日のアポイントメントも確認して充実の一日を締めくくる。',
      },
    ],
  },
  {
    image: slide2,
    title: '営業部門（内勤）の一日',
    schedules: [
      {
        time: '9:00',
        title: '出勤',
        content:
          'メールチェックから一日がスタート。昨日の問い合わせへの返信を優先的に処理。',
      },
      {
        time: '9:00-11:00',
        title: 'デスクワーク・取引先との打ち合わせ',
        content:
          '見積書作成や予約管理システムの更新。電話やオンラインでの商談も積極的に実施。',
      },
      {
        time: '11:00-12:00',
        title: '団体受入れ',
        content:
          '到着した団体様のお出迎え。営業担当として直接お客様の反応を見られる貴重な時間。',
      },
      {
        time: '12:00-13:00',
        title: '食事',
        content:
          'スタッフ同士で情報交換しながらランチ。他部署との連携も大切に。',
      },
      {
        time: '13:00-18:00',
        title: 'デスクワーク・取引先との打ち合わせ',
        content:
          '午後は企画書の作成や新規開拓のためのリサーチ。季節ごとのイベント企画も練る。',
      },
      {
        time: '18:00',
        title: '退勤',
        content:
          '明日の準備を整えて退勤。新しいアイデアが浮かんだら忘れずにメモして帰る。',
      },
    ],
  },
];
---

<div class="schedule-wrapper">
  <LowerPageH2
    title="1日のスケジュール紹介"
    variant="default"
    position="center"
  />
  <div class="swiper-container">
    <div class="swiper">
      <div class="swiper-wrapper">
        {
          slides.map((slide) => (
            <div class="swiper-slide">
              <div class="image-wrapper">
                <Image
                  src={slide.image}
                  format="webp"
                  alt={slide.title}
                  width={300}
                  height={300}
                />
              </div>
              <div class="timeline">
                {slide.schedules.map((schedule) => (
                  <article class="timeline__item">
                    <header class="timeline__header">
                      <time class="timeline__time">【{schedule.time}】</time>
                      <h3 class="timeline__title">{schedule.title}</h3>
                    </header>
                    <div class="timeline__content">
                      <p>{schedule.content}</p>
                    </div>
                  </article>
                ))}
              </div>
            </div>
          ))
        }
      </div>
    </div>
    <div class="swiper-pagination"></div>
  </div>
</div>

<script>
  // Swiperのインポートと初期化
  import Swiper from 'swiper';
  import { Navigation, Pagination, Autoplay } from 'swiper/modules';

  // CSSのインポート
  import 'swiper/css';
  import 'swiper/css/navigation';
  import 'swiper/css/pagination';

  // DOMがロードされた後にSwiperを初期化
  document.addEventListener('DOMContentLoaded', () => {
    const swiper = new Swiper('.swiper', {
      // モジュールの設定
      modules: [Navigation, Pagination, Autoplay],

      // スライドの設定
      slidesPerView: 1,
      spaceBetween: 30,
      centeredSlides: true,
      loop: true,

      // 自動再生の設定
      autoplay: {
        delay: 5000,
        disableOnInteraction: false,
      },

      // ページネーションの設定
      pagination: {
        el: '.swiper-pagination',
        clickable: true,
      },
    });
  });
</script>

<style lang="scss">
  @import '@styles/functions.scss';
  @import '@styles/mixins.scss';
  .schedule-wrapper {
    background-color: #d8edf7;
    padding: spx(60) 0;
    @include tablet-up {
      padding: spx(60) * 0.75 0;
    }
    @include desktop-up {
      padding: ppx(100) 0;
    }
  }
  .swiper-container {
    width: 100%;
    padding: 20px 0;
    margin-top: spx(28);
    @include tablet-up {
      margin-top: spx(28) * 0.75;
    }
    @include desktop-up {
      margin-top: ppx(40);
    }
    .swiper {
      width: 100%;
      padding: 0 spx(20);
      @include tablet-up {
        padding: 0 spx(80) * 0.75;
      }
      @include desktop-up {
        padding: 0 ppx(100);
      }
      .swiper-wrapper {
        .swiper-slide {
          display: flex;
          flex-flow: column;
          gap: spx(20);
          background-color: #fff;
          padding: spx(20);
          @include tablet-up {
            gap: spx(20) * 0.75;
            padding: spx(20) * 0.75;
          }
          @include desktop-up {
            display: grid;
            grid-template-columns: max-content auto;
            gap: ppx(80);
            padding: ppx(20);
          }

          .image-wrapper {
            width: 100%;
            height: auto;
            margin-inline: auto;

            @include desktop-up {
              width: ppx(360);
              height: ppx(360);
              margin-inline: unset;
            }

            img {
              display: block;
              width: 100%;
              height: 100%;
              object-fit: cover;
            }
          }
          .timeline {
            font-size: spx(14);
            font-weight: 500;
            line-height: 140%;
            display: flex;
            flex-flow: column;
            gap: spx(12);

            @include tablet-up {
              font-size: spx(14) * 0.75;
              gap: spx(12) * 0.75;
            }

            @include desktop-up {
              font-size: ppx(18);
              gap: ppx(12);
            }
            .timeline__item {
              .timeline__header {
                display: flex;
                font-weight: 700;
                .timeline__time {
                }
                .timeline__title {
                }
              }
              .timeline__content {
                p {
                }
              }
            }
          }
        }
      }
    }
  }
  :global(.swiper-pagination) {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: spx(23);
    position: static !important;
    margin-top: spx(28);

    @include tablet-up {
      gap: spx(23) * 0.75;
      margin-top: spx(28) * 0.75;
    }
    @include desktop-up {
      gap: ppx(23);
      margin-top: ppx(40);
    }
    :global(.swiper-pagination-bullet) {
      width: spx(16);
      height: spx(16);
      background-color: #d8edf7;
      border: 2px solid #026995;
      border-radius: 50%;
      opacity: 1;
      @include tablet-up {
        width: spx(16) * 0.75;
        height: spx(16) * 0.75;
      }
      @include desktop-up {
        width: ppx(20);
        height: ppx(20);
      }
      &:global(.swiper-pagination-bullet-active) {
        background-color: #026995;
      }
    }
  }
</style>
